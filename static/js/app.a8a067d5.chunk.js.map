{"version":3,"sources":["src/Dropdown/internal/hooks.tsx","src/Dropdown/ModalDropdown.tsx","src/Dropdown/enums.ts","assets/user_icon.png","assets/arrow_drop_down.png","assets/arrow_drop_down_white.png","src/Dropdown/DropdownFlatListItem.tsx","src/Dropdown/DropdownFlatList.tsx","src/Dropdown/internal/DownArrow.tsx","src/Dropdown/DropdownButton.tsx","src/Common.tsx","src/Feature/WithAnimation.tsx","src/Feature/WithAutoPosition.tsx","src/Feature/BaseFeatures.tsx","src/Feature/WithImperative.tsx","src/Feature/WithSafeArea.tsx","src/Feature/Features.tsx","src/Demos/DemoVirtualCurrencyDropdown.tsx","src/Demos/DemoFullscreenFilters.tsx","src/Demos/DemoBlurView.tsx","src/Demos/Demos.tsx","src/App.tsx","index.js","src/Dropdown/context.tsx","src/Dropdown/internal/utils.tsx","src/Dropdown/internal/components.tsx"],"names":["getTransition","transitionType","context","translation","JSON","parse","stringify","transitions","interpolate","inputRange","overlayBounds","h","outputRange","initialValue","config","toValue","flipUp","duration","useNativeDriver","animationType","flipDown","scaleIn","scaleOut","fadeIn","fadeOut","slideUp","slideDown","useAnimation","animatedValueRef","useRef","Animated","Value","useState","animatedStyle","setAnimatedStyle","show","transitionShow","transition","current","setValue","transform","rotateX","scaleX","scaleY","opacity","height","overflow","Promise","resolve","start","state","hide","transitionHide","useOverlayStrategy","OverlayStrategy","None","setState","visible","useMemo","Measure","BeforeMounted","Mounted","BeforeUnmounted","Unmounted","isMeasure","change","newState","style","StyleSheet","create","shadow","shadowColor","shadowOpacity","shadowOffset","width","shadowRadius","elevation","React","forwardRef","ref","safeArea","animated","shaded","placement","adjustFrame","id","onModalWillHide","truth","onModalWillShow","triggerContainerProps","modalProps","Trigger","Overlay","windowDimensions","useWindowDimensions","triggerRef","overlayRef","triggerBounds","x","y","w","calcPosition","useCallback","overlayHeight","buttonSpace","rightSpace","showInLeft","position","top","Math","max","left","right","animationState","strategy","_onRequestClose","reason","then","_","_onRequestOpen","ModalHideReason","WithRef","ModalShowReason","visiblePrev","useEffect","VisibleStateChange","useImperativeHandle","_renderTrigger","KeepTouchable","onPress","ClickTrigger","color","frameStyle","windowSize","onRequestClose","ClickOverlayInside","testID","console","log","_renderModel","supportedOrientations","statusBarTranslucent","margin","hasBackdrop","animationInTiming","animationOutTiming","isVisible","onBackButtonPress","ClickBackButton","onCapture","bounds","a","async","res","setImmediate","ClickOverlayOutside","flex","View","onLayout","measure","_fx","_fy","px","py","value","event","module","exports","DropdownFlatListItem","label","activeContentContainerStyle","activeLabelStyle","labelStyle","contentContainerStyle","isActive","useModalDropdownContext","TouchableOpacity","styles","Text","paddingVertical","paddingHorizontal","textAlign","DropdownFlatList","data","renderItem","onAntiSelect","onSelect","onItemPress","index","props","defaultIndex","_onItemPress","item","itemIndex","info","FlatList","scrollEnabled","keyExtractor","toString","automaticallyAdjustContentInsets","showsVerticalScrollIndicator","backgroundColor","DownArrow","Image","source","uri","DropdownButton","animatedValue","spring","rotateInterpolate","showIcon","Icon","disabled","border","labelDisabled","rotate","children","display","flexDirection","alignItems","justifyContent","borderWidth","hairlineWidth","borderColor","borderStyle","borderRadius","fontSize","AnimatedDownArrow","undefined","timing","size","name","type","Divider","marginVertical","getSearch","location","URLSearchParams","search","reduce","p","c","DEMO_OPTIONS_1","showAnimations","hiddenAnimations","container","row","cell","DATA_SOURCE","DATA_SOURCE1","ArrowDropDown","require","title","dropdownContainer","labelContainer","pa5","padding","FeaturesConstants","BaseFeatures","updateIndex","visible1","setVisible1State","setVisible2State","setVisible3State","setVisible4State","setVisible5State","ModalDropdown","WithAnimation","transitionShowIndex","setTransitionShowIndex","transitionHiddenIndex","setTransitionHiddenIndex","WithAutoPosition","WithImperative","modalDropdownRef1","Button","setTimeout","WithSafeArea","safeAreaInsets","useSafeAreaInsets","FeatureLabels","Object","keys","focus","itemActive","Orders","OrderPanel","dropdownContext","PriceRangePanel","onConfirm","onClear","TouchableWithoutFeedback","TextInput","placeholder","root","menus","header","DEMOS","VirtualCurrencyDropdown","setVisibleState","DemoFullscreenFilters","setVisible1","visible2","setVisible2","orderIndex","setOrderIndex","order","min","priceRange","setPriceRange","hasPriceRange","range","DemoBlurView","i","bottom","tint","intensity","DEMO_LABELS","Views","FeaturesScreen","demo","includes","indexOf","exampleIndex","updateExampleIndex","Component","DemosScreen","demoIndex","updateDemoIndex","ViewLabels","registerRootComponent","view","viewIndex","defaultValue","ModalDropdownContext","createContext","ModalDropdownProvider","Provider","useContext","v","TOUCHABLE_ELEMENTS","component","preservedProps","find","displayName","realChildren","warn","LayoutCapture","viewRef"],"mappings":"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","file":"static/js/app.a8a067d5.chunk.js","sourcesContent":["import { AnimationExecute, Bounds, ModalDropdownAnimations } from '../type';\nimport React, { useEffect, useMemo, useRef, useState } from 'react';\nimport { Animated, StyleProp, StyleSheet, ViewStyle } from 'react-native';\nimport { OverlayStrategy } from \"../enums\";\n\n// 跳过第一次, 并且仅在 whenDeps 改变时触发\nexport const useEffectWhenWithSkipFirst = (\n  effect: React.EffectCallback,\n  deps: React.DependencyList,\n  whenDeps: React.DependencyList\n) => {\n  const isFirstRun = useRef(true);\n  const whenRef = useRef(whenDeps || []);\n  const initial = whenRef.current === whenDeps;\n  const whenDepsChanged =\n    initial || !whenRef.current.every((w, i) => w === whenDeps[i]);\n  whenRef.current = whenDeps;\n  const nullDeps = deps.map(() => null);\n\n  return useEffect(\n    () => {\n      if (isFirstRun.current) {\n        isFirstRun.current = false;\n        return;\n      }\n      return whenDepsChanged && effect();\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    whenDepsChanged ? deps : nullDeps\n  );\n};\n\ntype Transition = {\n  config: {\n    duration?: number;\n    toValue: number;\n    useNativeDriver: boolean;\n  };\n  interpolate?: {\n    inputRange: any[];\n    outputRange: any[];\n  };\n  initialValue: number;\n  animationType: 'timing' | 'spring';\n};\n\nconst getTransition = (\n  transitionType:\n    | ModalDropdownAnimations['transitionHide']\n    | ModalDropdownAnimations['transitionShow'],\n  context: { overlayBounds: Bounds }\n): Transition => {\n  // Shallow cloning\n  const translation: Transition = JSON.parse(\n    JSON.stringify(transitions[transitionType])\n  );\n\n  switch (transitionType) {\n    case 'fadeIn':\n    case 'fadeOut':\n    case 'flipDown':\n    case 'flipUp':\n    case 'scaleIn':\n    case 'scaleOut':\n      return translation;\n    case 'slideUp':\n      translation.interpolate = {\n        inputRange: [0, context.overlayBounds.h],\n        outputRange: [0, context.overlayBounds.h],\n      };\n      translation.initialValue = 0;\n      translation.config.toValue = context.overlayBounds.h;\n      return translation;\n    case 'slideDown':\n      translation.interpolate = {\n        inputRange: [0, context.overlayBounds.h],\n        outputRange: [0, context.overlayBounds.h],\n      };\n      translation.initialValue = context.overlayBounds.h;\n      translation.config.toValue = 0;\n      return translation;\n  }\n};\n\nconst duration = 200\n\nconst transitions: Record<string, Transition> = {\n  flipUp: {\n    config: {\n      duration: duration,\n      toValue: 0,\n      useNativeDriver: true,\n    },\n    interpolate: {\n      inputRange: [0, 180],\n      outputRange: ['0deg', '180deg'],\n    },\n    initialValue: 90,\n    animationType: 'timing',\n  },\n  flipDown: {\n    config: {\n      duration: duration,\n      toValue: 90,\n      useNativeDriver: true,\n    },\n    interpolate: {\n      inputRange: [0, 90],\n      outputRange: ['0deg', '90deg'],\n    },\n    initialValue: 0,\n    animationType: 'timing',\n  },\n  scaleIn: {\n    config: {\n      duration: duration,\n      toValue: 1,\n      useNativeDriver: true,\n    },\n    interpolate: {\n      inputRange: [0, 1],\n      outputRange: [0, 1],\n    },\n    initialValue: 0,\n    animationType: 'timing',\n  },\n  scaleOut: {\n    config: {\n      duration: duration,\n      toValue: 0,\n      useNativeDriver: true,\n    },\n    interpolate: {\n      inputRange: [0, 1],\n      outputRange: [0, 1],\n    },\n    initialValue: 1,\n    animationType: 'timing',\n  },\n  fadeIn: {\n    config: {\n      toValue: 1,\n      duration: duration,\n      useNativeDriver: true,\n    },\n    interpolate: {\n      inputRange: [0, 1],\n      outputRange: [0, 1],\n    },\n    initialValue: 0,\n    animationType: 'timing',\n  },\n  fadeOut: {\n    config: {\n      toValue: 0,\n      duration: duration,\n      useNativeDriver: true,\n    },\n    interpolate: {\n      inputRange: [0, 1],\n      outputRange: [0, 1],\n    },\n    initialValue: 1,\n    animationType: 'timing',\n  },\n  slideUp: {\n    config: {\n      toValue: 0,\n      duration: duration,\n      useNativeDriver: false,\n    },\n    initialValue: 0,\n    animationType: 'timing',\n  },\n  slideDown: {\n    config: {\n      toValue: 0,\n      duration: duration,\n      useNativeDriver: false,\n    },\n    initialValue: 0,\n    animationType: 'timing',\n  },\n};\n\nexport const useAnimation = () => {\n  const animatedValueRef = useRef(new Animated.Value(90));\n  const [animatedStyle, setAnimatedStyle] = useState({});\n\n  const show: AnimationExecute = ({ transitionShow, overlayBounds }) => {\n    const transition = getTransition(transitionShow, {\n      overlayBounds,\n    });\n    const interpolate = animatedValueRef.current.interpolate(\n      transition.interpolate!\n    );\n    animatedValueRef.current.setValue(transition.initialValue);\n\n    switch (transitionShow) {\n      case 'flipUp':\n        setAnimatedStyle({ transform: [{ rotateX: interpolate }] });\n        break;\n      case 'scaleIn':\n        setAnimatedStyle({ transform: [{ scaleX: interpolate, scaleY: 1 }] });\n        break;\n      case 'fadeIn':\n        setAnimatedStyle({ opacity: interpolate });\n        break;\n      case 'slideUp':\n        // 如果上一次执行动画时 useNativeDriver = true 就要重新初始化 Animated.Value 实例,\n        // 否则 RN 就会以 useNativeDriver = true 的情况下来执行, 产生 height 无法被动画的 bug\n        animatedValueRef.current = new Animated.Value(transition.initialValue);\n        setAnimatedStyle({ height: animatedValueRef.current, overflow: 'hidden' });\n        break;\n      default:\n        setAnimatedStyle({});\n    }\n\n    return new Promise((resolve) => {\n      Animated[transition.animationType](\n        animatedValueRef.current,\n        transition.config\n      ).start(() => {\n        setAnimatedStyle((state) => ({ ...state, overflow: 'visible' }));\n        resolve();\n      });\n    });\n  };\n\n  const hide: AnimationExecute = ({ overlayBounds, transitionHide }) => {\n    const transition = getTransition(transitionHide, {\n      overlayBounds,\n    });\n    const interpolate = animatedValueRef.current.interpolate(\n      transition.interpolate!\n    );\n    animatedValueRef.current.setValue(transition.initialValue);\n\n    switch (transitionHide) {\n      case 'flipDown':\n        setAnimatedStyle({ transform: [{ rotateX: interpolate }] });\n        break;\n      case 'scaleOut':\n        setAnimatedStyle({ transform: [{ scaleX: interpolate, scaleY: 1 }] });\n        break;\n      case 'fadeOut':\n        setAnimatedStyle({ opacity: interpolate });\n        break;\n      case 'slideDown':\n        animatedValueRef.current = new Animated.Value(transition.initialValue);\n        setAnimatedStyle({ height: animatedValueRef.current, overflow: 'hidden' });\n        break;\n      default:\n        setAnimatedStyle({});\n    }\n\n    return new Promise<void>((resolve) => {\n      Animated[transition.animationType](\n        animatedValueRef.current,\n        transition.config\n      ).start(() => {\n        setAnimatedStyle((state) => ({ ...state, overflow: 'visible' }));\n        resolve();\n      });\n    });\n  };\n\n  return {\n    animatedStyle,\n    show,\n    hide,\n  };\n};\n\n// type useSizeParameters = {\n//   heightSourceStyle: StyleProp<ViewStyle>[];\n//   widthSourceStyle: StyleProp<ViewStyle>[];\n// };\n//\n// export const useSize = ({\n//                           heightSourceStyle,\n//                           widthSourceStyle,\n//                         }: useSizeParameters) => {\n//   const height = useMemo(() => {\n//     const style = StyleSheet.flatten(\n//       heightSourceStyle.find((item) => StyleSheet.flatten(item).height)\n//     );\n//     const _height = style?.height ? style.height.toString() : '0';\n//     return Number.parseFloat(_height);\n//   }, [heightSourceStyle]);\n//\n//   const width = useMemo(() => {\n//     const style = StyleSheet.flatten(\n//       widthSourceStyle.find((item) => StyleSheet.flatten(item).width)\n//     );\n//     const _width = style?.width ? style.width.toString() : '0';\n//     return Number.parseFloat(_width);\n//   }, [widthSourceStyle]);\n//\n//   return {\n//     height,\n//     width,\n//   };\n// };\n\nexport const useBorderWidth = (styles: ViewStyle[]) => {\n  // 获取 Trigger 的精准边框, 这样可以更精确的的计算 Trigger 的尺寸\n  const borderState = useMemo(() => {\n    const style: ViewStyle = StyleSheet.flatten(styles);\n    const borderLeftWidth = style.borderLeftWidth || style.borderWidth || 0;\n    const borderRightWidth = style.borderRightWidth || style.borderWidth || 0;\n    const borderTopWidth = style.borderTopWidth || style.borderWidth || 0;\n    const borderBottomWidth = style.borderBottomWidth || style.borderWidth || 0;\n\n    return {\n      left: borderLeftWidth,\n      right: borderRightWidth,\n      bottom: borderTopWidth,\n      top: borderBottomWidth,\n      w: borderLeftWidth + borderRightWidth,\n      h: borderTopWidth + borderBottomWidth,\n    };\n  }, [styles]);\n\n  return borderState;\n};\n\nexport const useOverlayStrategy = (initialValue: OverlayStrategy = OverlayStrategy.None) => {\n  const [state, setState] = useState(initialValue);\n  /**\n   * overlay 是否显示\n   */\n  const visible = useMemo(() => {\n    switch (state) {\n      case OverlayStrategy.Measure:\n      case OverlayStrategy.BeforeMounted:\n      case OverlayStrategy.Mounted:\n      case OverlayStrategy.BeforeUnmounted:\n        return true;\n      case OverlayStrategy.None:\n      case OverlayStrategy.Unmounted:\n        return false;\n    }\n  }, [state]);\n\n  /**\n   * 判断是否处于测量阶段\n   */\n  const isMeasure = useMemo(() => {\n    switch (state) {\n      case OverlayStrategy.Measure:\n        return true;\n      case OverlayStrategy.BeforeMounted:\n      case OverlayStrategy.Mounted:\n      case OverlayStrategy.None:\n      case OverlayStrategy.BeforeUnmounted:\n      case OverlayStrategy.Unmounted:\n        return false;\n    }\n  }, [state]);\n\n  const change = (newState: OverlayStrategy) => {\n    setState(newState);\n  }\n\n  return { state, visible, isMeasure, change };\n};\n","import React, { useCallback, useEffect, useImperativeHandle, useMemo, useRef, } from 'react';\nimport {\n  Animated,\n  LayoutChangeEvent,\n  StyleSheet,\n  Text,\n  TouchableOpacity,\n  TouchableWithoutFeedback,\n  useWindowDimensions,\n  View,\n} from 'react-native';\nimport Modal from 'react-native-modal';\n\nimport type { Bounds, EdgeInsets, ModalDropdownContextType, ModalDropdownHandles, ModalDropdownProps, } from './type';\nimport { id, truth } from './internal/utils';\nimport { useAnimation, useOverlayStrategy } from './internal/hooks';\nimport { ModalDropdownProvider } from './context';\nimport { ModalHideReason, ModalShowReason, OverlayStrategy, } from './enums';\nimport { KeepTouchable, LayoutCapture } from './internal/components';\n\nfunction Component(\n  {\n    safeArea,\n    visible,\n    animated = true,\n    shaded = true,\n    placement = 'bottomCenter',\n    transitionShow = 'flipUp',\n    transitionHide = 'flipDown',\n    adjustFrame = id,\n    onModalWillHide = truth,\n    onModalWillShow = truth,\n    triggerContainerProps = {},\n    modalProps = {},\n    Trigger,\n    Overlay,\n  }: ModalDropdownProps,\n  ref: React.Ref<any>\n) {\n  const windowDimensions = useWindowDimensions();\n  const triggerRef = useRef<View>(null);\n  const overlayRef = useRef<View>(null);\n  const triggerBounds = useRef<Bounds>({ x: 0, y: 0, w: 0, h: 0 });\n  const overlayBounds = useRef<Bounds>({ x: 0, y: 0, w: 0, h: 0 });\n\n  const calcPosition = useCallback(() => {\n    // 首先根据 style 的对象获取 dropdown 容器的高度\n    const overlayHeight = overlayBounds.current.h;\n\n    // x: 按钮的 x 点（相对于屏幕左上角）\n    // y: 按钮的 y 点（相对于屏幕顶点）\n    // w: 按钮的 width\n    // h: 按钮的 height\n    const { x, y, w, h } = triggerBounds.current;\n\n    // 距离底部的空间\n    const buttonSpace = windowDimensions.height - y - h;\n    // 距离右边的空间\n    const rightSpace = windowDimensions.width - x;\n    // 如果距离底部的空间大于等于 dropdown 的高度 或者 底部空间\n    const showInBottom = buttonSpace >= overlayHeight || buttonSpace >= y;\n    const showInLeft = rightSpace >= x;\n    const position: EdgeInsets = {\n      top: showInBottom ? y + h : Math.max(0, y - overlayHeight),\n    };\n\n    if (showInLeft) {\n      position.left = x;\n    } else {\n      position.right = rightSpace - w;\n    }\n\n    return adjustFrame(position);\n  }, [adjustFrame, windowDimensions]);\n\n  const animationState = useAnimation();\n\n  // overlay 的渲染阶段\n  const strategy = useOverlayStrategy(OverlayStrategy.None);\n\n  const _onRequestClose = (reason: ModalHideReason) => {\n    if (onModalWillHide(reason) !== false) {\n      strategy.change(OverlayStrategy.BeforeUnmounted);\n      animationState\n        .hide({\n          overlayBounds: overlayBounds.current,\n          triggerBounds: triggerBounds.current,\n          transitionShow,\n          transitionHide,\n        })\n        .then((_) => {\n          strategy.change(OverlayStrategy.Unmounted);\n        });\n    }\n  };\n\n  const _onRequestOpen = (reason: ModalShowReason) => {\n    if (onModalWillShow(reason) !== false) {\n      // 如果是 slideUp 则先测量尺寸, 因为 slideUp 依赖元素高度, 否则就直接渲染\n      // if (transitionShow === 'slideUp') {\n      //   strategy.change(OverlayStrategy.Measure);\n      // } else {\n      //   strategy.change(OverlayStrategy.BeforeMounted);\n      //   animationState.show({\n      //     overlayBounds: overlayBounds.current,\n      //     triggerBounds: triggerBounds.current,\n      //     transitionShow,\n      //     transitionHide,\n      //   });\n      // }\n\n      strategy.change(OverlayStrategy.Measure);\n      animationState.show({\n        overlayBounds: overlayBounds.current,\n        triggerBounds: triggerBounds.current,\n        transitionShow,\n        transitionHide,\n      });\n    }\n  };\n  // 手动隐藏\n  const hide = () => _onRequestClose(ModalHideReason.WithRef);\n\n  // 手动打开\n  const show = () => _onRequestOpen(ModalShowReason.WithRef);\n\n  const visiblePrev = useRef(visible);\n\n  useEffect(() => {\n    // 如果当前 visible 和之前的 visible 相同, 则说明是 transitionHide or transitionShow 发生变化,\n    // 则忽略本次 effect\n    if (visiblePrev.current === visible) {\n      return;\n    } else {\n      visiblePrev.current = visible;\n\n      if (visible) {\n        _onRequestOpen(ModalShowReason.VisibleStateChange);\n      } else {\n        _onRequestClose(ModalHideReason.VisibleStateChange);\n      }\n    }\n  }, [visible, transitionHide, transitionShow]);\n\n  useImperativeHandle(ref, () => ({\n    hide,\n    show,\n  }));\n\n  const onLayout = (event: LayoutChangeEvent) => {\n    // 保持传入的 onLayout 事件\n    triggerContainerProps.onLayout?.(event);\n    triggerRef.current.measure((_fx, _fy, width, height, px, py) => {\n      triggerBounds.current = { x: px, y: py, w: width, h: height };\n    });\n  };\n\n  // overlay 自身元素发送变化\n  const onOverlayLayout = (_: LayoutChangeEvent) => {\n    if (!overlayRef.current?.measure) {\n      return;\n    }\n    overlayRef.current.measure((_fx, _fy, width, height, px, py) => {\n      overlayBounds.current = { x: px, y: py, w: width, h: height };\n    });\n  };\n\n  // overlay 预渲染阶段的尺寸捕获\n  const onOverlayCapture = async (bounds: Bounds) => {\n    overlayBounds.current = bounds;\n    // 先显示动画, 然后等到下个事件循环在更新 OverlayStrategy, 否则在 web 上运行有问题, 会闪烁\n    animationState\n      .show({\n        overlayBounds: overlayBounds.current,\n        triggerBounds: triggerBounds.current,\n        transitionShow,\n        transitionHide,\n      })\n      .then(res => {\n        strategy.change(OverlayStrategy.Mounted);\n      });\n    setImmediate(() => strategy.change(OverlayStrategy.BeforeMounted));\n  };\n\n  const _renderTrigger = useMemo(() => {\n    if (typeof Trigger === 'function') {\n      return KeepTouchable(<Trigger/>, {\n        onPress: () => _onRequestOpen(ModalShowReason.ClickTrigger),\n      });\n    } else if (typeof Trigger === 'object') {\n      return Trigger;\n    } else {\n      return (\n        <TouchableOpacity\n          onPress={() => _onRequestOpen(ModalShowReason.ClickTrigger)}\n        >\n          <Text style={{ color: '#2d8cfe' }}>{Trigger}</Text>\n        </TouchableOpacity>\n      );\n    }\n    // transitionShow,transitionHide,overlayBounds is  `_onRequestOpen` deps\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [Trigger, transitionShow, transitionHide]);\n\n  const frameStyle = calcPosition();\n\n  const context: ModalDropdownContextType = {\n    triggerBounds: triggerBounds.current,\n    overlayBounds: overlayBounds.current,\n    windowSize: windowDimensions,\n    animatedStyle: animationState.animatedStyle,\n    safeArea: safeArea,\n    onRequestClose: () =>\n      _onRequestClose(ModalHideReason.ClickOverlayInside),\n    visible: strategy.visible,\n    show: show,\n    hide: hide,\n  };\n\n  if (triggerContainerProps.testID) {\n    console.log(\"strategy.visible\", strategy.state, strategy.visible);\n  }\n\n  const _renderModel = (\n    <Modal\n      supportedOrientations={[\n        'portrait',\n        'portrait-upside-down',\n        'landscape',\n        'landscape-left',\n        'landscape-right',\n      ]}\n      statusBarTranslucent\n      {...modalProps}\n      // remove default margin\n      style={[modalProps?.style, { margin: 0 }]}\n      hasBackdrop={false}\n      animationInTiming={1}\n      animationOutTiming={1}\n      isVisible={strategy.visible}\n      onBackButtonPress={() => _onRequestClose(ModalHideReason.ClickBackButton)}\n    >\n      {strategy.isMeasure ? (\n        <LayoutCapture onCapture={onOverlayCapture} style={frameStyle}>\n          {typeof Overlay === \"function\" ? <Overlay {...context}/> : Overlay}\n        </LayoutCapture>\n      ) : (\n        strategy.visible && (\n          <TouchableWithoutFeedback\n            onPress={() => _onRequestClose(ModalHideReason.ClickOverlayOutside)}\n          >\n            <View style={{ flex: 1 }}>\n              <Animated.View\n                ref={overlayRef}\n                onLayout={onOverlayLayout}\n                style={[\n                  frameStyle,\n                  { position: 'absolute' },\n                  shaded && style.shadow,\n                  animated && animationState.animatedStyle,\n                ]}\n              >\n                {typeof Overlay === \"function\" ? <Overlay {...context}/> : Overlay}\n              </Animated.View>\n            </View>\n          </TouchableWithoutFeedback>\n        )\n      )}\n    </Modal>\n  );\n\n  return (\n    <ModalDropdownProvider value={context}>\n      <View\n        {...triggerContainerProps}\n        onLayout={onLayout}\n        ref={triggerRef}\n        style={[triggerContainerProps.style, { position: 'relative' }]}\n      >\n        {_renderTrigger}\n        {_renderModel}\n      </View>\n    </ModalDropdownProvider>\n  );\n}\n\nconst style = StyleSheet.create({\n  shadow: {\n    shadowColor: '#6b6b6b',\n\n    shadowOpacity: 0.26,\n    shadowOffset: { width: 0, height: 2 },\n    shadowRadius: 10,\n    elevation: 10,\n  },\n});\n\nexport default React.forwardRef(Component) as (\n  p: ModalDropdownProps & { ref?: React.Ref<ModalDropdownHandles> }\n) => JSX.Element;\n","export enum ModalShowReason {\n  // 通过 ref.current.show 手动显示\n  WithRef = 'WithRef',\n  // 可见性改变\n  VisibleStateChange = 'VisibleStateChange',\n  // 点击 Trigger\n  ClickTrigger = 'ClickTrigger',\n}\n\nexport enum ModalHideReason {\n  // 通过 ref.current.hide 手动隐藏\n  WithRef = 'WithRef',\n  // 可见性改变\n  VisibleStateChange = 'VisibleStateChange',\n  // 点击返回按钮\n  ClickBackButton = 'ClickBackButton',\n  // 点击 Overlay 内部\n  ClickOverlayOutside = 'ClickOverlayOutside',\n  // 点击 Overlay 外部\n  ClickOverlayInside = 'ClickOverlayInside',\n}\n\nexport enum OverlayStrategy {\n  // 初始值, 用于 Unmounted 的区别在于, Unmounted 表示显示过一次, 这意味有些数据可以使用缓存\n  None = 'None',\n  // 测量 Overlay 的尺寸和最终要显示的位置\n  Measure = 'Measure',\n  // 即将要显示在屏幕上, 开始执行 overlay 显示的过渡动画\n  BeforeMounted = 'BeforeMounted',\n  // 已经显示在屏幕上\n  Mounted = 'Mounted',\n  // 即将从屏幕上移除, 开始执行 overlay 隐藏的过渡动画\n  BeforeUnmounted = 'BeforeUnmounted',\n  // 未挂载\n  Unmounted = 'Unmounted',\n}\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAABnElEQVR4Ae3WAWQCURjA8SEM4RDCYRhCCGEIMYQBwhBCGIYhDBDCMByGEIYAIQwDhBBCCGEIIYQhhOHbH4GP53uuq4368wO85/XeXfcuTqVz13jCAGMsdkboo4EQB6+MIcTTAAUkXhp9SAw/6CCV5PHMIRrmqCGPAh6whGgYIYu9ymIF0fCBS+gCTCAaZkjHPyb3xGtk4CqHrfuHxDu+NsShD6sJxKER56i2EIcWrLoQhxUu4d0rBC49WI2MOR7h3cKYbGk8nCE2xhxDeJWHeOg6xqfw6fn/FMCsBvE0RAlpBKhgCvFUglkTciRVmLUgR9L4bwuqw6wOMXwhQhV5hLhCATV0sIQYyjArGteJIny7Na4rGXj1rQZuUIGd/65P4V1HDb7Hvg3UnM/wLqcGp7FvN5CdLQJQvF3qJbtD7E6MAvWmvCBOKbypZyeFWOWwUTsVwLdQfdeWyGKvSliru0wTGWMhbfW2LpBDIoUYQ3+tJ+igtfOOqePaGiDx6lhAPM1wh4NXRt+4URZx9CKIEuFPi46/GLsIOMHO/QKl0IiOZRZz1AAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAARElEQVR4Ae3OoREAMAzDwI6T/ZfKGK25UZEN9HfiOugFAABGrbqfrZqWKZ8JTvlMcMpnglM+E5zymeCUz4SnFAAAqPMAcwk4+TkWYQ8AAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAQklEQVR4Ae3OMQEAMAzDsMEpf1KF4QHItSs7LAQ6+pQkSQIGWN4tMP0UmSmmMlNMZaaYykwxlZluqp+JVD8jSZLSBUXSEDBjglPWAAAAAElFTkSuQmCC\"","import React from 'react';\nimport { DropdownFlatListItemProps } from './type';\nimport { useModalDropdownContext } from './context';\nimport { Text, TouchableOpacity, StyleSheet } from 'react-native';\n\nexport default function DropdownFlatListItem({\n  label,\n  activeContentContainerStyle,\n  activeLabelStyle,\n  labelStyle,\n  contentContainerStyle,\n  isActive,\n  onPress,\n}: DropdownFlatListItemProps) {\n  const context = useModalDropdownContext();\n\n  return (\n    <TouchableOpacity\n      onPress={onPress}\n      style={[\n        styles.contentContainerStyle,\n        contentContainerStyle,\n        isActive && activeContentContainerStyle,\n      ]}\n    >\n      <Text\n        style={[styles.labelStyle, labelStyle, isActive && activeLabelStyle]}\n      >\n        {label}\n      </Text>\n    </TouchableOpacity>\n  );\n}\n\nconst styles = StyleSheet.create({\n  contentContainerStyle: {\n    paddingVertical: 6,\n    paddingHorizontal: 12,\n  },\n  labelStyle: {\n    textAlign: 'center',\n  },\n});\n","import {\n  FlatList,\n  StyleSheet,\n  View,\n  Text,\n  useWindowDimensions,\n} from 'react-native';\nimport React from 'react';\nimport { DropdownFlatListProps } from './type';\nimport DropdownFlatListItem from './DropdownFlatListItem';\nimport { KeepTouchable } from './internal/components';\nimport { useModalDropdownContext } from './context';\n\nexport default function DropdownFlatList<T extends string | number>({\n  data,\n  renderItem,\n  onAntiSelect,\n  onSelect,\n  onItemPress,\n  index,\n  defaultIndex,\n  ...props\n}: DropdownFlatListProps<T>) {\n  const context = useModalDropdownContext();\n\n  const _onItemPress = (item, itemIndex) => {\n    const info = { item, index: itemIndex };\n    onItemPress?.(info);\n    context.onRequestClose();\n    if (index === itemIndex) {\n      onAntiSelect?.(info);\n    } else {\n      onSelect?.(info);\n    }\n  };\n\n  return (\n    <FlatList\n      scrollEnabled={true}\n      data={data}\n      keyExtractor={(item, index) => index.toString()}\n      renderItem={({ index: itemIndex, item }) => {\n        const isActive = itemIndex === index;\n        if (typeof renderItem === 'function') {\n          return KeepTouchable(\n            renderItem({\n              item,\n              index,\n              isActive,\n            }),\n            { onPress: () => _onItemPress(item, itemIndex) }\n          );\n        } else {\n          return (\n            <DropdownFlatListItem\n              label={item}\n              isActive={isActive}\n              onPress={() => _onItemPress(item, itemIndex)}\n            />\n          );\n        }\n      }}\n      automaticallyAdjustContentInsets={false}\n      showsVerticalScrollIndicator={false}\n      {...props}\n      style={[\n        {\n          backgroundColor: '#ffffff',\n          height: context.windowSize.height / 5,\n        },\n        { width: context.triggerBounds.w },\n        props.style,\n      ]}\n    />\n  );\n}\n","import { Animated, ImageProps, ImageStyle, StyleProp } from \"react-native\";\nimport React from \"react\";\n\nconst _iconBase64 = `data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAAABmJLR0QA/wD/AP+gvaeTAAABZklEQVR4nO3aPU7DQBRF4RMKDGw8EkKiTgGLoECsiIYCiR9RmiJxE8Wx48xM3tjnk1z7vqMUkRKQJEmSJEmSJEmSJEmSJMWx2j3F3AIb4Af4AO6BpuSAwhrgAfgE/oAn4K7EizdAu/e8Ms/YDdvb9u99zv3iFfB94MVzjN0XuQV+gavcA756Xj6n2Mcit2wbZPd4ZMAcYg9Fbtk2CDGk1tjhbrsGXgYGvQE3pQYlEPamsMMmCH9L+IEjVHNDNUMPqG57dYOpczNQ1/Cath5UwwE1bBwl8iGRt00S8aCIm5KIdFikLVlEODDChiIueehiIncucfDiIndKHr7YyJ0SARYfuZMzhJH35Ahi5B4pwxh5QIpARh7pnFBGPtGUYEae6JRwRj7T2J/7Q/0loFZjPq1+khOZGtvIE5wa28hnGBvbyAkMxTZyQn2xjZxBA6yB992zxq9wkiRJkiRJkiRJkiRJkqTy/gHHXxTfFM457gAAAABJRU5ErkJggg==`;\n\nexport const DownArrow = ({\n                            style,\n                            ...props\n                          }: Omit<ImageProps, 'source' | 'style'> & {\n  style: Animated.WithAnimatedValue<StyleProp<ImageStyle>>;\n}) => {\n  return (\n    <Animated.Image\n      {...props}\n      style={[{ width: 10, height: 10 }, style]}\n      source={{ uri: _iconBase64 }}\n    />\n  );\n};\n","import React, { useEffect, useRef } from 'react';\nimport {\n  Animated,\n  StyleSheet,\n  Text,\n  TouchableOpacity,\n  View,\n} from 'react-native';\nimport { DropdownButtonProps } from './type';\nimport { DownArrow } from './internal/DownArrow';\nimport { useModalDropdownContext } from './context';\n\nexport default function DropdownButton(props: DropdownButtonProps) {\n  const context = useModalDropdownContext();\n  const animatedValue = useRef(new Animated.Value(0));\n\n  useEffect(() => {\n    if (context.visible) {\n      Animated.spring(animatedValue.current, {\n        toValue: 180,\n        useNativeDriver: true,\n      }).start();\n    } else {\n      Animated.spring(animatedValue.current, {\n        toValue: 0,\n        useNativeDriver: true,\n      }).start();\n    }\n  }, [context.visible]);\n\n  const rotateInterpolate = animatedValue.current.interpolate({\n    inputRange: [0, 180],\n    outputRange: ['0deg', '180deg'],\n  });\n\n  if ('label' in props) {\n    const showIcon = props.Icon !== null;\n\n    return (\n      <TouchableOpacity\n        disabled={props.disabled}\n        onPress={context.show}\n        style={[\n          styles.contentContainerStyle,\n          styles.border,\n          props.contentContainerStyle,\n        ]}\n      >\n        <Text\n          style={[\n            styles.label,\n            props.disabled && styles.labelDisabled,\n            props.labelStyle,\n          ]}\n        >\n          {props.label}\n        </Text>\n        {showIcon ? <View style={{ width: 8 }} /> : null}\n        {showIcon ? (\n          props.Icon ? (\n            props.Icon\n          ) : (\n            <DownArrow style={{ transform: [{ rotate: rotateInterpolate }] }} />\n          )\n        ) : null}\n      </TouchableOpacity>\n    );\n  }\n\n  return (\n    <View\n      style={[\n        styles.contentContainerStyle,\n        styles.border,\n        props.contentContainerStyle,\n      ]}\n    >\n      {props.children}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  contentContainerStyle: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingVertical: 4,\n    paddingHorizontal: 12,\n  },\n  border: {\n    borderWidth: StyleSheet.hairlineWidth,\n    borderColor: '#d9d9d9',\n    borderStyle: 'solid',\n    borderRadius: 2,\n  },\n  label: {\n    fontSize: 16,\n    color: '#000000d9',\n  },\n  labelDisabled: {\n    color: 'rgba(0,0,0,0.5)',\n  },\n});\n","import { Animated, View } from 'react-native';\nimport React, { useEffect, useRef } from 'react';\nimport { Icon } from '@rneui/themed';\n\nexport const AnimatedDownArrow = ({ visible, color = undefined }) => {\n  const animatedValue = useRef(new Animated.Value(0));\n\n  useEffect(() => {\n    if (visible) {\n      Animated.timing(animatedValue.current, {\n        toValue: 180,\n        useNativeDriver: true,\n        duration: 200,\n      }).start();\n    } else {\n      Animated.timing(animatedValue.current, {\n        toValue: 0,\n        useNativeDriver: true,\n        duration: 200,\n      }).start();\n    }\n  }, [visible]);\n\n  const rotateInterpolate = animatedValue.current.interpolate({\n    inputRange: [0, 180],\n    outputRange: ['0deg', '180deg'],\n  });\n\n  return (\n    <Animated.View style={[{ transform: [{ rotate: rotateInterpolate }] }]}>\n      <Icon\n        color={color}\n        size={18}\n        name={'chevron-down-outline'}\n        type={'ionicon'}\n      />\n    </Animated.View>\n  );\n};\n\nexport const Divider = () => {\n  return (\n    <View\n      style={{\n        height: 1,\n        backgroundColor: 'gray',\n        width: '100%',\n        marginVertical: 20,\n      }}\n    />\n  );\n};\n\nexport const getSearch = (): { view?: \"FeaturesScreen\" | \"DemosScreen\", demo?: string } => {\n  if (typeof location === 'undefined') {\n    return {};\n  }\n\n  // @ts-ignore\n  return [...new URLSearchParams(location.search)]\n    .reduce((p, c) => {\n      return { ...p, [c[0]]: c[1] };\n    }, {});\n};\n","import {\n  ModalDropdown,\n  DropdownFlatList,\n} from '@monchilin/react-native-dropdown';\nimport React, { useState } from 'react';\nimport { StyleSheet, Text, TouchableOpacity, View } from 'react-native';\nimport { Divider } from '../Common';\n\nconst DEMO_OPTIONS_1 = [\n  'option 1',\n  'option 2',\n  'special',\n  'option 4',\n  'option 5',\n  'option 6',\n  'option 7',\n  'option 8',\n  'option 9',\n];\n\nconst showAnimations = ['flipUp', 'scaleIn', 'fadeIn', 'slideUp'] as const;\n\nconst hiddenAnimations = [\n  'flipDown',\n  'scaleOut',\n  'fadeOut',\n  'slideDown',\n] as const;\n\nexport default function WithAnimation() {\n  const [transitionShowIndex, setTransitionShowIndex] = useState(3);\n  const [transitionHiddenIndex, setTransitionHiddenIndex] = useState(3);\n\n  return (\n    <View style={styles.container}>\n      <View style={styles.row}>\n        <ModalDropdown\n          Trigger={`click to change transitionShow current is [${showAnimations[transitionShowIndex]}]`}\n          Overlay={\n            <DropdownFlatList\n              onSelect={({ index }) => {\n                setTransitionShowIndex(index);\n              }}\n              data={showAnimations}\n            />\n          }\n        />\n        <ModalDropdown\n          Overlay={\n            <DropdownFlatList\n              index={transitionHiddenIndex}\n              onSelect={({ index }) => {\n                setTransitionHiddenIndex(index);\n              }}\n              data={hiddenAnimations}\n            />\n          }\n          Trigger={`click to change transitionHide current is [${hiddenAnimations[transitionHiddenIndex]}]`}\n        />\n        <Divider />\n        <ModalDropdown\n          transitionShow={showAnimations[transitionShowIndex]}\n          transitionHide={hiddenAnimations[transitionHiddenIndex]}\n          Overlay={<DropdownFlatList data={DEMO_OPTIONS_1} />}\n          Trigger={'try transition'}\n        />\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  row: {\n    flexDirection: 'column',\n    paddingVertical: 50,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n});\n","import {\n  ModalDropdown,\n  DropdownFlatList,\n} from '@monchilin/react-native-dropdown';\nimport React from 'react';\nimport { StyleSheet, View } from 'react-native';\n\nconst DEMO_OPTIONS_1 = [\n  'option 1',\n  'option 2',\n  'option 3',\n  'option 4',\n  'option 5',\n  'option 6',\n  'option 7',\n  'option 8',\n  'option 9',\n];\n\nexport default function WithAutoPosition() {\n  return (\n    <View style={styles.container}>\n      <View style={styles.row}>\n        <View style={styles.cell}>\n          <ModalDropdown\n            Overlay={<DropdownFlatList data={DEMO_OPTIONS_1} />}\n            Trigger={'upper left corner'}\n          />\n        </View>\n        <View style={[styles.cell, { alignItems: 'flex-end' }]}>\n          <ModalDropdown\n            Overlay={<DropdownFlatList data={DEMO_OPTIONS_1} />}\n            Trigger={'upper right corner'}\n          />\n        </View>\n      </View>\n      <View style={[styles.row]}>\n        <View style={[styles.cell, { justifyContent: 'flex-end' }]}>\n          <ModalDropdown\n            Overlay={<DropdownFlatList data={DEMO_OPTIONS_1} />}\n            Trigger={'lower left corner'}\n          />\n        </View>\n        <View\n          style={[\n            styles.cell,\n            { alignItems: 'flex-end', justifyContent: 'flex-end' },\n          ]}\n        >\n          <ModalDropdown\n            Overlay={<DropdownFlatList data={DEMO_OPTIONS_1} />}\n            Trigger={'lower right corner'}\n          />\n        </View>\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  row: {\n    flex: 1,\n    flexDirection: 'row',\n  },\n  cell: {\n    flex: 1,\n    flexDirection: 'column',\n  },\n});\n","import React, { useEffect, useRef, useState } from 'react';\nimport {\n  Animated,\n  Image,\n  ImageStyle,\n  StyleProp,\n  StyleSheet,\n  Text,\n  TouchableOpacity,\n  View,\n} from 'react-native';\nimport {\n  DropdownButton,\n  DropdownFlatList,\n  ModalDropdown,\n} from '@monchilin/react-native-dropdown';\nimport { Divider } from '../Common';\n\nconst DATA_SOURCE = [\n  'option 1',\n  'option 2',\n  'special',\n  'option 4',\n  'option 5',\n  'option 6',\n  'option 7',\n  'option 8',\n  'option 9',\n];\n\nconst DATA_SOURCE1 = [\n  'selectable',\n  'selectable',\n  \"I can't be Selected\",\n  'option 4',\n  'option 5',\n  'option 6',\n  \"I can't be Selected\",\n  'option 8',\n  'option 9',\n];\n\nconst DATA_SOURCE2 = [\n  '1st menu item',\n  '2se menu item',\n  '3rd menu item',\n  '4th menu item',\n  '5th menu item',\n  '6th menu item',\n  '7th menu item',\n  '8th menu item',\n  '9th menu item',\n];\n\nconst UserIcon = () => {\n  return (\n    <Image\n      source={require('../../assets/user_icon.png')}\n      style={{ width: 18, height: 18 }}\n    />\n  );\n};\n\nconst ArrowDropDown = ({\n  style,\n}: {\n  style: Animated.WithAnimatedValue<StyleProp<ImageStyle>>;\n}) => {\n  return (\n    <Animated.Image\n      source={require('../../assets/arrow_drop_down.png')}\n      style={[{ width: 18, height: 18 }, style]}\n    />\n  );\n};\n\nexport default function BaseFeatures() {\n  const [index, updateIndex] = useState(-1);\n  const [visible1, setVisible1State] = useState(false);\n  const [visible2, setVisible2State] = useState(false);\n  const [visible3, setVisible3State] = useState(false);\n  const [visible4, setVisible4State] = useState(false);\n  const [visible5, setVisible5State] = useState(false);\n  const animatedValue = useRef(new Animated.Value(0));\n\n  useEffect(() => {\n    if (visible1) {\n      Animated.timing(animatedValue.current, {\n        toValue: 180,\n        useNativeDriver: true,\n        duration: 100,\n      }).start();\n    } else {\n      Animated.timing(animatedValue.current, {\n        toValue: 0,\n        useNativeDriver: true,\n        duration: 100,\n      }).start();\n    }\n  }, [visible1]);\n\n  const rotateInterpolate = animatedValue.current.interpolate({\n    inputRange: [0, 180],\n    outputRange: ['0deg', '180deg'],\n  });\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.title}>Dropdown Examples</Text>\n      <View style={styles.row}>\n        <Text style={styles.label}>Basic Picker</Text>\n        <ModalDropdown\n          visible={visible1}\n          onModalWillShow={() => setVisible1State(true)}\n          onModalWillHide={() => setVisible1State(false)}\n          Trigger={\n            <TouchableOpacity\n              onPress={() => setVisible1State(true)}\n              style={[{ flexDirection: 'row' }, styles.dropdownContainer]}\n            >\n              <Text>{DATA_SOURCE[index] ?? 'Press me'}</Text>\n              <ArrowDropDown\n                style={{ transform: [{ rotate: rotateInterpolate }] }}\n              />\n            </TouchableOpacity>\n          }\n          Overlay={\n            <DropdownFlatList\n              style={{ width: 'auto' }}\n              onSelect={({ index }) => updateIndex(index)}\n              data={DATA_SOURCE}\n            />\n          }\n        />\n        <Divider />\n        <Text style={styles.label}>With DropdownButton</Text>\n        <ModalDropdown\n          onModalWillShow={() => setVisible2State(true)}\n          onModalWillHide={() => setVisible2State(false)}\n          Overlay={<DropdownFlatList data={DATA_SOURCE} />}\n          Trigger={<DropdownButton label={'Press me'} />}\n        />\n        <Divider />\n        <Text style={styles.label}>With Disabled</Text>\n        <ModalDropdown\n          onModalWillShow={() => setVisible3State(true)}\n          onModalWillHide={() => setVisible3State(false)}\n          Overlay={<DropdownFlatList data={DATA_SOURCE} />}\n          Trigger={<DropdownButton disabled label={'Press me'} />}\n        />\n        <Divider />\n        <Text style={styles.label}>With FlatList disabled</Text>\n        <ModalDropdown\n          onModalWillShow={() => setVisible4State(true)}\n          onModalWillHide={() => setVisible4State(false)}\n          Overlay={\n            <DropdownFlatList\n              index={index}\n              onItemPress={({ index }) => updateIndex(index)}\n              data={DATA_SOURCE1}\n            />\n          }\n          Trigger={<DropdownButton label={'Press me'} />}\n        />\n        <Divider />\n        <Text style={styles.label}>Without Animation</Text>\n        <ModalDropdown\n          animated={false}\n          onModalWillShow={() => setVisible5State(true)}\n          onModalWillHide={() => setVisible5State(false)}\n          Overlay={\n            <DropdownFlatList\n              index={index}\n              onItemPress={({ index }) => updateIndex(index)}\n              data={DATA_SOURCE}\n            />\n          }\n          Trigger={<DropdownButton label={'Press me'} />}\n        />\n\n        {/*<Divider/>*/}\n        {/*<Text style={styles.label}>With Border</Text>*/}\n        {/*<Dropdown*/}\n        {/*  index={index}*/}\n        {/*  onSelect={updateIndex}*/}\n        {/*  rootContainerStyle={styles.dropdownContainer}*/}\n        {/*  labelContainerStyle={[*/}\n        {/*    styles.labelContainer,*/}\n        {/*    styles.border,*/}\n        {/*    styles.pa5,*/}\n        {/*  ]}*/}\n        {/*  dataSource={DATA_SOURCE2}*/}\n        {/*  onDropdownWillShow={() => setVisibleState(true)}*/}\n        {/*  onDropdownWillHide={() => setVisibleState(false)}*/}\n        {/*>*/}\n        {/*  <Text>{DATA_SOURCE2[index]}</Text>*/}\n        {/*  {dropIcon}*/}\n        {/*</Dropdown>*/}\n\n        {/*<Divider/>*/}\n        {/*<Text style={styles.label}>With Split</Text>*/}\n        {/*<Dropdown*/}\n        {/*  index={index}*/}\n        {/*  onSelect={updateIndex}*/}\n        {/*  rootContainerStyle={styles.dropdownContainer}*/}\n        {/*  showSeparator*/}\n        {/*  labelContainerStyle={[*/}\n        {/*    styles.labelContainer,*/}\n        {/*    styles.border,*/}\n        {/*    styles.pa5,*/}\n        {/*  ]}*/}\n        {/*  dataSource={DATA_SOURCE2}*/}\n        {/*  onDropdownWillShow={() => setVisibleState(true)}*/}\n        {/*  onDropdownWillHide={() => setVisibleState(false)}*/}\n        {/*>*/}\n        {/*  <Text>{DATA_SOURCE2[index]}</Text>*/}\n        {/*  {dropIcon}*/}\n        {/*</Dropdown>*/}\n\n        {/*<Divider/>*/}\n        {/*<Text style={styles.label}>Custom Mount Item</Text>*/}\n        {/*<ModalDropdown*/}\n        {/*  Overlay={*/}\n        {/*    <DropdownFlatList*/}\n        {/*      onSelect={({ index }) => updateIndex(index)}*/}\n        {/*      data={DATA_SOURCE2}*/}\n        {/*      renderItem={({ item, index }) => {*/}\n        {/*        return <View>*/}\n        {/*          <Text>{item}</Text>*/}\n        {/*        </View>;*/}\n        {/*      }}/>*/}\n        {/*  }*/}\n        {/*  Trigger={*/}\n        {/*    props => <TouchableOpacity onPress={props.onPress}*/}\n        {/*                               style={[{ flexDirection: \"row\" }, styles.dropdownContainer]}>*/}\n        {/*      <UserIcon/>*/}\n        {/*      <Text>{DATA_SOURCE2[index]}</Text>*/}\n        {/*      {dropIcon}*/}\n        {/*    </TouchableOpacity>*/}\n        {/*  }*/}\n        {/*  onModalWillShow={() => setVisibleState(true)}*/}\n        {/*  onModalWillHide={() => setVisibleState(false)}*/}\n        {/*/>*/}\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  title: {\n    fontSize: 18,\n  },\n  label: {\n    fontSize: 16,\n  },\n  row: {\n    flexDirection: 'column',\n    paddingVertical: 50,\n    width: '80%',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  cell: {\n    flex: 1,\n    flexDirection: 'column',\n  },\n  dropdownContainer: {},\n  labelContainer: {\n    justifyContent: 'space-between',\n    flexDirection: 'row',\n  },\n  border: {\n    borderColor: 'rgb(217, 217, 217)',\n    borderWidth: 1,\n    borderStyle: 'solid',\n  },\n  pa5: {\n    padding: 5,\n  },\n});\n","import React, { useRef } from 'react';\nimport { Button, StyleSheet, View } from 'react-native';\nimport {\n  DropdownFlatList,\n  ModalDropdown,\n  ModalDropdownHandles,\n} from '@monchilin/react-native-dropdown';\n\nconst DEMO_OPTIONS_1 = [\n  'option 1',\n  'option 2',\n  'special',\n  'option 4',\n  'option 5',\n  'option 6',\n  'option 7',\n  'option 8',\n  'option 9',\n];\n\nexport default function WithImperative() {\n  const modalDropdownRef1 = useRef<ModalDropdownHandles>(null);\n\n  return (\n    <View style={styles.container}>\n      <View style={styles.row}>\n        <ModalDropdown\n          ref={modalDropdownRef1}\n          Overlay={<DropdownFlatList data={DEMO_OPTIONS_1} />}\n          Trigger={`I'am Dropdown`}\n          transitionHide={'flipDown'}\n          transitionShow={'flipUp'}\n        />\n        <Button\n          title={'click below and after 2 seconds hide'}\n          onPress={() => {\n            modalDropdownRef1.current.show();\n            setTimeout(() => {\n              modalDropdownRef1.current.hide();\n            }, 2000);\n          }}\n        />\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  row: {\n    flexDirection: 'column',\n    paddingVertical: 50,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n});\n","import {\n  ModalDropdown,\n  DropdownFlatList,\n} from '@monchilin/react-native-dropdown';\nimport React from 'react';\nimport { StyleSheet, View } from 'react-native';\nimport { useSafeAreaInsets } from 'react-native-safe-area-context';\n\nconst DEMO_OPTIONS_1 = [\n  'option 1',\n  'option 2',\n  'option 3',\n  'option 4',\n  'option 5',\n  'option 6',\n  'option 7',\n  'option 8',\n  'option 9',\n];\n\nexport default function WithSafeArea() {\n  const safeAreaInsets = useSafeAreaInsets();\n\n  return (\n    <View style={styles.container}>\n      <View style={styles.row}>\n        <View style={styles.cell}>\n          <ModalDropdown\n            safeArea={safeAreaInsets}\n            Overlay={<DropdownFlatList data={DEMO_OPTIONS_1} />}\n            Trigger={'upper left corner'}\n          />\n        </View>\n        <View style={[styles.cell, { alignItems: 'flex-end' }]}>\n          <ModalDropdown\n            safeArea={safeAreaInsets}\n            Overlay={<DropdownFlatList data={DEMO_OPTIONS_1} />}\n            Trigger={'upper right corner'}\n          />\n        </View>\n      </View>\n      <View style={[styles.row]}>\n        <View style={[styles.cell, { justifyContent: 'flex-end' }]}>\n          <ModalDropdown\n            safeArea={safeAreaInsets}\n            Overlay={<DropdownFlatList data={DEMO_OPTIONS_1} />}\n            Trigger={'lower left corner'}\n          />\n        </View>\n        <View\n          style={[\n            styles.cell,\n            { alignItems: 'flex-end', justifyContent: 'flex-end' },\n          ]}\n        >\n          <ModalDropdown\n            safeArea={safeAreaInsets}\n            Overlay={<DropdownFlatList data={DEMO_OPTIONS_1} />}\n            Trigger={'lower right corner'}\n          />\n        </View>\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  row: {\n    flex: 1,\n    flexDirection: 'row',\n  },\n  cell: {\n    flex: 1,\n    flexDirection: 'column',\n  },\n});\n","import React, { useState } from 'react';\nimport { StyleSheet, Text, View } from 'react-native';\nimport WithAnimation from './WithAnimation';\nimport WithAutoPosition from './WithAutoPosition';\nimport BaseFeatures from './BaseFeatures';\nimport WithImperative from './WithImperative';\nimport {\n  DropdownFlatList,\n  ModalDropdown,\n} from '@monchilin/react-native-dropdown';\nimport WithSafeArea from './WithSafeArea';\nimport { getSearch } from \"../Common\";\n\nconst FeaturesConstants = {\n  BaseFeatures: BaseFeatures,\n  WithAnimation: WithAnimation,\n  WithAutoPosition: WithAutoPosition,\n  WithImperative: WithImperative,\n  WithSafeArea: WithSafeArea,\n};\n\nconst FeatureLabels = Object.keys(\n  FeaturesConstants\n) as (keyof typeof FeaturesConstants)[];\n\nexport default function FeaturesScreen() {\n  const search = getSearch();\n  const [exampleIndex, updateExampleIndex] = useState(() => {\n    const name: keyof typeof FeaturesConstants = search.demo as any;\n\n    return FeatureLabels.includes(name) ? FeatureLabels.indexOf(name) : 0;\n  });\n\n  const Component = FeaturesConstants[FeatureLabels[exampleIndex]];\n\n  return (\n    <View style={{ flex: 1 }}>\n      <Component />\n      <View style={styles.focus}>\n        <Text>current example:</Text>\n        <ModalDropdown\n          Trigger={FeatureLabels[exampleIndex]}\n          Overlay={\n            <DropdownFlatList\n              data={FeatureLabels}\n              onSelect={({ index }) => updateExampleIndex(index)}\n            />\n          }\n        />\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  focus: {\n    borderStyle: 'dashed',\n    borderColor: '#7c8686',\n    borderWidth: 1,\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 5,\n  },\n});\n","import React, { useState } from 'react';\nimport {\n  Animated,\n  ImageStyle,\n  StyleProp,\n  StyleSheet,\n  Text,\n  TouchableOpacity,\n  View,\n} from 'react-native';\nimport {\n  DropdownFlatList,\n  ModalDropdown,\n} from '@monchilin/react-native-dropdown';\nimport { AnimatedDownArrow } from '../Common';\n\nconst DATA_SOURCE = ['BNA', 'USDI', 'SHUIBI', 'ATC', 'CTC'];\n\nconst ArrowDropDown = ({\n                         style,\n                       }: {\n  style: Animated.WithAnimatedValue<StyleProp<ImageStyle>>;\n}) => {\n  return (\n    <Animated.Image\n      source={require('../../assets/arrow_drop_down_white.png')}\n      style={[{ width: 18, height: 18 }, style]}\n    />\n  );\n};\n\nexport default function DemoVirtualCurrencyDropdown() {\n  const [visible, setVisibleState] = useState(false);\n  const [index, updateIndex] = useState(-1);\n\n  return (\n    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>\n      <ModalDropdown\n        triggerContainerProps={{ testID: \"asdasd\" }}\n        transitionHide={'scaleOut'}\n        transitionShow={'scaleIn'}\n        onModalWillHide={() => setVisibleState(false)}\n        onModalWillShow={() => setVisibleState(true)}\n        visible={visible}\n        Overlay={\n          <DropdownFlatList\n            data={DATA_SOURCE}\n            index={index}\n            onSelect={({ index }) => updateIndex(index)}\n            renderItem={({ item, isActive }) => {\n              return (\n                <View style={[styles.item, isActive && styles.itemActive]}>\n                  <Text style={{ color: '#FFFFFF' }}>{item}</Text>\n                </View>\n              );\n            }}\n          />\n        }\n        Trigger={\n          <TouchableOpacity\n            onPress={() => setVisibleState(true)}\n            style={[styles.labelContainer, styles.item]}\n          >\n            <Text style={{ color: '#FFFFFF' }}>\n              {DATA_SOURCE[index] ?? 'Select Currency'}\n            </Text>\n            <AnimatedDownArrow visible={visible}/>\n          </TouchableOpacity>\n        }\n      />\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  labelContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n  },\n  item: {\n    backgroundColor: '#363333',\n    padding: 10,\n    borderColor: '#3B3B3B',\n    borderStyle: 'solid',\n    borderWidth: 1,\n  },\n  itemActive: {\n    backgroundColor: '#4180ff',\n  },\n});\n","import React, { useState } from 'react';\nimport {\n  Button,\n  FlatList,\n  StyleSheet,\n  Text,\n  TextInput,\n  TouchableOpacity,\n  TouchableWithoutFeedback,\n  useWindowDimensions,\n  View,\n} from 'react-native';\nimport {\n  ModalDropdown,\n  useModalDropdownContext,\n} from '@monchilin/react-native-dropdown';\nimport { AnimatedDownArrow } from '../Common';\n\nconst Orders = ['Default', 'Latest', '3H Hottest', '12H Hottest'];\n\ntype Range = {\n  min?: string;\n  max?: string;\n};\n\nfunction OrderPanel({ onSelect }) {\n  // get window size\n  const windowDimensions = useWindowDimensions();\n  // get dropdown context\n  const dropdownContext = useModalDropdownContext();\n\n  return (\n    <View\n      style={{\n        width: windowDimensions.width,\n        height:\n          windowDimensions.height -\n          dropdownContext.triggerBounds.h -\n          dropdownContext.triggerBounds.y,\n        backgroundColor: '#d0d0d0',\n      }}\n    >\n      <FlatList\n        keyExtractor={(item, index) => index.toString()}\n        contentContainerStyle={{ backgroundColor: '#ffffff' }}\n        data={Orders}\n        renderItem={({ item, index }) => {\n          return (\n            <TouchableOpacity\n              onPress={() => onSelect(index)}\n              style={{\n                width: '100%',\n                height: 40,\n                justifyContent: 'center',\n                alignItems: 'center',\n              }}\n            >\n              <Text>{item}</Text>\n            </TouchableOpacity>\n          );\n        }}\n      />\n    </View>\n  );\n}\n\nfunction PriceRangePanel({\n  onConfirm,\n  onClear,\n}: {\n  range: Range;\n  onConfirm: () => void;\n  onClear: () => void;\n}) {\n  // get window size\n  const windowDimensions = useWindowDimensions();\n  // get dropdown context\n  const dropdownContext = useModalDropdownContext();\n\n  return (\n    <View\n      style={{\n        width: windowDimensions.width,\n        height:\n          windowDimensions.height -\n          dropdownContext.triggerBounds.h -\n          dropdownContext.triggerBounds.y,\n        backgroundColor: '#d0d0d0',\n      }}\n    >\n      <TouchableWithoutFeedback onPress={() => {}}>\n        <View\n          style={{\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n            justifyContent: 'center',\n            height: 200,\n            backgroundColor: '#ffffff',\n          }}\n        >\n          <View\n            style={{\n              display: 'flex',\n              flexDirection: 'row',\n              justifyContent: 'space-around',\n              alignItems: 'center',\n              width: '100%',\n            }}\n          >\n            <TextInput\n              style={{ width: 100 }}\n              placeholder={'Please enter min'}\n            />\n            <Text>-</Text>\n            <TextInput\n              style={{ width: 100 }}\n              placeholder={'Please enter max'}\n            />\n          </View>\n          <View style={{ height: 20 }} />\n          <View style={{ flexDirection: \"row\", justifyContent: \"space-evenly\", width: \"100%\" }}>\n            <Button title={'Confirm'} onPress={onConfirm} />\n            <Button title={'Clear'} onPress={onClear} />\n          </View>\n        </View>\n      </TouchableWithoutFeedback>\n    </View>\n  );\n}\n\nexport default function DemoFullscreenFilters() {\n  const [visible1, setVisible1] = useState(false);\n  const [visible2, setVisible2] = useState(false);\n\n  const [orderIndex, setOrderIndex] = useState(0);\n  const order = Orders[orderIndex];\n\n  const [priceRange, setPriceRange] = useState({\n    max: '',\n    min: '',\n  });\n\n  const onConfirm = () => {\n    setPriceRange({ min: '10', max: '10000' });\n    setVisible1(false);\n  };\n\n  const onClear = () => {\n    setPriceRange({ min: '', max: '' });\n    setVisible1(false);\n  };\n\n  const hasPriceRange = !!priceRange.min;\n\n  return (\n    <View style={styles.root}>\n      <View style={styles.header}>\n        <Text>Header</Text>\n      </View>\n\n      <View style={styles.menus}>\n        <ModalDropdown\n          transitionShow={'fadeIn'}\n          transitionHide={'fadeOut'}\n          visible={visible1}\n          onModalWillHide={() => setVisible1(false)}\n          onModalWillShow={() => setVisible1(true)}\n          adjustFrame={(position) => {\n            position.left = 0;\n            position.right = 0;\n            return position;\n          }}\n          Trigger={\n            <TouchableOpacity\n              onPress={() => setVisible1(true)}\n              style={{ flexDirection: 'row' }}\n            >\n              <Text style={{ color: hasPriceRange ? '#ff4d4f' : '#000000d9' }}>\n                Orders\n              </Text>\n              <AnimatedDownArrow\n                color={hasPriceRange ? '#ff4d4f' : '#b2b2b2'}\n                visible={visible1}\n              />\n            </TouchableOpacity>\n          }\n          Overlay={\n            <PriceRangePanel\n              onClear={onClear}\n              onConfirm={onConfirm}\n              range={priceRange}\n            />\n          }\n        />\n        <ModalDropdown\n          transitionShow={'fadeIn'}\n          transitionHide={'fadeOut'}\n          visible={visible2}\n          onModalWillHide={() => setVisible2(false)}\n          onModalWillShow={() => setVisible2(true)}\n          adjustFrame={(position) => {\n            position.left = 0;\n            position.right = 0;\n            return position;\n          }}\n          Trigger={\n            <TouchableOpacity\n              onPress={() => setVisible2(true)}\n              style={{ flexDirection: 'row', alignItems: 'center' }}\n            >\n              <Text\n                style={{ color: orderIndex !== 0 ? '#ff4d4f' : '#000000d9' }}\n              >\n                {order ?? 'Orders'}\n              </Text>\n              <AnimatedDownArrow\n                color={orderIndex !== 0 ? '#ff4d4f' : '#b2b2b2'}\n                visible={visible2}\n              />\n            </TouchableOpacity>\n          }\n          Overlay={\n            <OrderPanel\n              onSelect={(index) => {\n                setOrderIndex(index);\n                setVisible2(false);\n              }}\n            />\n          }\n        />\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  root: {\n    flexDirection: 'column',\n    flex: 1,\n    backgroundColor: '#ffffff',\n  },\n  menus: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-around',\n  },\n  header: {\n    height: 50,\n    backgroundColor: '#ea7c7c',\n    width: '100%',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n});\n","import React, { useState } from 'react';\nimport { Animated, StyleSheet, Text, View } from 'react-native';\nimport { DropdownFlatList, ModalDropdown, } from '@monchilin/react-native-dropdown';\nimport { BlurView } from \"expo-blur\";\n\nconst DATA_SOURCE = ['BNA', 'USDI', 'SHUIBI', 'ATC', 'CTC'];\n\nexport default function DemoBlurView() {\n  const [visible, setVisibleState] = useState(false);\n  const [index, updateIndex] = useState(-1);\n\n  return <View style={{ flex: 1, justifyContent: \"center\", alignItems: \"center\" }}>\n    <ModalDropdown\n      onModalWillHide={() => setVisibleState(false)}\n      onModalWillShow={() => setVisibleState(true)}\n      visible={visible}\n      animated={false}\n      // 首先, 调整 overlay 的位置, 这样 ModalDropdown 就不会在处理 overlay 的位置\n      adjustFrame={i => ({ top: 0, left: 0, right: 0, bottom: 0 })}\n      Overlay={\n        // 创建全屏的 BlurView\n        context => <BlurView\n          tint=\"light\"\n          intensity={10}\n          style={{\n            left: 0,\n            top: 0,\n            position: \"absolute\",\n            width: context.windowSize.width,\n            height: context.windowSize.height\n          }}\n        >\n          {/* 从 context 中获取动画样式和 trigger 的位置 */}\n          <Animated.View\n            style={\n              [\n                context.animatedStyle,\n                {\n                  position: \"absolute\",\n                  left: context.triggerBounds.x,\n                  top: context.triggerBounds.y\n                }\n              ]\n            }\n          >\n            <DropdownFlatList\n              data={DATA_SOURCE}\n              index={index}\n              onSelect={({ index }) => updateIndex(index)}\n              style={{ width: 100, }}\n              renderItem={({ item, isActive }) => {\n                return (\n                  <View style={[styles.item, isActive && styles.itemActive]}>\n                    <Text style={{ color: '#FFFFFF' }}>{item}</Text>\n                  </View>\n                );\n              }}\n            />\n          </Animated.View>\n        </BlurView>\n      }\n      Trigger={DATA_SOURCE[index] ?? 'Select Currency'}\n    />\n  </View>;\n}\n\nconst styles = StyleSheet.create({\n  labelContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n  },\n  item: {\n    backgroundColor: '#363333',\n    padding: 10,\n    borderColor: '#3B3B3B',\n    borderStyle: 'solid',\n    borderWidth: 1,\n  },\n  itemActive: {\n    backgroundColor: '#4180ff',\n  },\n});\n","import React, { useState } from 'react';\nimport { SafeAreaView, StatusBar, StyleSheet, Text, View } from 'react-native';\nimport DemoVirtualCurrencyDropdown from './DemoVirtualCurrencyDropdown';\nimport { ModalDropdown } from '@monchilin/react-native-dropdown';\nimport DropdownFlatList from '../Dropdown/DropdownFlatList';\nimport DemoFullscreenFilters from './DemoFullscreenFilters';\nimport DemoBlurView from \"./DemoBlurView\";\nimport { getSearch } from \"../Common\";\n\nconst DEMOS = {\n  VirtualCurrencyDropdown: DemoVirtualCurrencyDropdown,\n  DemoFullscreenFilters: DemoFullscreenFilters,\n  DemoBlurView: DemoBlurView,\n};\n\nconst DEMO_LABELS = Object.keys(DEMOS) as (keyof typeof DEMOS)[];\n\nexport default function DemosScreen() {\n  const search = getSearch();\n  const [demoIndex, updateDemoIndex] = useState(() => {\n    const name: keyof typeof DEMOS = search.demo as any;\n\n    return DEMO_LABELS.includes(name) ? DEMO_LABELS.indexOf(name) : 0;\n  });\n\n\n  const Component = DEMOS[DEMO_LABELS[demoIndex]];\n\n  return (\n    <View style={{ flex: 1 }}>\n      <Component />\n      <View style={styles.focus}>\n        <Text>current demo:</Text>\n        <ModalDropdown\n          Trigger={DEMO_LABELS[demoIndex]}\n          Overlay={\n            <DropdownFlatList\n              style={{ width: 100 }}\n              data={DEMO_LABELS}\n              onSelect={({ index }) => updateDemoIndex(index)}\n            />\n          }\n        />\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  focus: {\n    borderStyle: 'dashed',\n    borderColor: '#7c8686',\n    borderWidth: 1,\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 5,\n  },\n});\n","import React, { useRef, useState } from 'react';\nimport { StyleSheet, View, Text, Button } from 'react-native';\nimport { SafeAreaProvider, SafeAreaView } from 'react-native-safe-area-context';\nimport FeaturesScreen from './Feature/Features';\nimport DemosScreen from './Demos/Demos';\nimport {\n  DropdownButton,\n  DropdownFlatList,\n  ModalDropdown,\n} from '@monchilin/react-native-dropdown';\nimport { getSearch } from \"./Common\";\n\nconst Views = {\n  FeaturesScreen: FeaturesScreen,\n  DemosScreen: DemosScreen,\n};\n\nconst ViewLabels = Object.keys(Views) as (keyof typeof Views)[];\n\nexport default function App() {\n  const search = getSearch();\n  const [viewIndex, updateExampleIndex] = useState(() => {\n    return ViewLabels.includes(search.view) ? ViewLabels.indexOf(search.view) : 0;\n  });\n\n  const Component = Views[ViewLabels[viewIndex]];\n\n  return (\n    <SafeAreaProvider>\n      <SafeAreaView style={{ flex: 1 }}>\n        <View style={styles.focus}>\n          <Text>current view:</Text>\n          <ModalDropdown\n            Overlay={\n              <DropdownFlatList\n                index={viewIndex}\n                onItemPress={({ index }) => updateExampleIndex(index)}\n                data={ViewLabels}\n              />\n            }\n            Trigger={<DropdownButton label={ViewLabels[viewIndex]}/>}\n          />\n        </View>\n        <Component/>\n      </SafeAreaView>\n    </SafeAreaProvider>\n  );\n}\n\nconst styles = StyleSheet.create({\n  focus: {\n    borderStyle: 'dashed',\n    borderColor: '#7c8686',\n    borderWidth: 1,\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 5,\n  },\n});\n","import { registerRootComponent } from 'expo';\n\nimport App from './src/App';\n\n// registerRootComponent calls AppRegistry.registerComponent('main', () => App);\n// It also ensures that whether you load the app in the Expo client or in a native build,\n// the environment is set up appropriately\nregisterRootComponent(App);\n","import React from 'react';\nimport { id } from './internal/utils';\nimport type { ModalDropdownContextType, Size } from './type';\n\nconst defaultValue: ModalDropdownContextType = {\n  onRequestClose: id,\n  show: id,\n  hide: id,\n  visible: false,\n  overlayBounds: { x: 0, y: 0, w: 0, h: 0 },\n  triggerBounds: { x: 0, y: 0, w: 0, h: 0 },\n  windowSize: { height: 0, width: 0 },\n  safeArea: undefined,\n};\n\nconst ModalDropdownContext =\n  React.createContext<ModalDropdownContextType>(defaultValue);\n\nexport const ModalDropdownProvider = ModalDropdownContext.Provider;\n\nexport const useModalDropdownContext = () => {\n  const context = React.useContext(ModalDropdownContext);\n\n  return context;\n};\n","export const truth = () => true;\nexport const isNumber = (o: unknown): o is number => typeof o === 'number';\n\nexport function id<T>(v?: T): T {\n  return v;\n}\n\nexport function setImmediatePromise() {\n  return new Promise((resolve) => {\n    setImmediate(resolve);\n  });\n}\n","import {\n  Animated,\n  ImageProps,\n  ImageStyle,\n  LayoutChangeEvent,\n  // Pressable,\n  StyleProp,\n  TouchableHighlight,\n  TouchableNativeFeedback,\n  TouchableOpacity,\n  TouchableWithoutFeedback,\n  TouchableWithoutFeedbackProps,\n  View,\n  ViewStyle,\n} from 'react-native';\nimport React, { useRef } from 'react';\nimport { Bounds } from '@monchilin/react-native-dropdown';\n\nconst TOUCHABLE_ELEMENTS = [\n  'TouchableHighlight',\n  'TouchableOpacity',\n  'TouchableWithoutFeedback',\n  'TouchableNativeFeedback',\n  'Pressable',\n];\n\nexport function KeepTouchable(\n  component: JSX.Element,\n  props: TouchableWithoutFeedbackProps\n) {\n  const preservedProps = {\n    onPress(event) {\n      props.onPress?.(event);\n      component.props.onPress?.(event);\n    },\n  };\n\n  if (TOUCHABLE_ELEMENTS.find((name) => name === component.type.displayName)) {\n    const props = {\n      ...component.props,\n      onPress: preservedProps.onPress,\n    };\n\n    const { children: realChildren } = component.props;\n    switch (component.type.displayName) {\n      case 'TouchableHighlight': {\n        return (\n          <TouchableHighlight {...props}>{realChildren}</TouchableHighlight>\n        );\n      }\n      case 'TouchableOpacity': {\n        return <TouchableOpacity {...props}>{realChildren}</TouchableOpacity>;\n      }\n      case 'TouchableWithoutFeedback': {\n        return (\n          <TouchableWithoutFeedback {...props}>\n            {realChildren}\n          </TouchableWithoutFeedback>\n        );\n      }\n      // case 'Pressable': {\n      //   return <Pressable {...props}>{realChildren}</Pressable>;\n      // }\n      // TODO react native web not support TouchableNativeFeedback\n      case 'TouchableNativeFeedback': {\n        console.warn('react native web not support TouchableNativeFeedback');\n        return (\n          <TouchableNativeFeedback {...props}>\n            {component}\n          </TouchableNativeFeedback>\n        );\n      }\n      default:\n        break;\n    }\n  }\n\n  return <TouchableOpacity {...preservedProps}>{component}</TouchableOpacity>;\n}\n\nexport const LayoutCapture = ({\n  children,\n  style,\n  onCapture,\n}: {\n  children: React.ReactNode;\n  onCapture: (bounds: Bounds) => void;\n  style: StyleProp<ViewStyle>;\n}) => {\n  const viewRef = useRef<View>(null);\n  const bounds = useRef<Bounds>({ x: 0, y: 0, w: 0, h: 0 });\n\n  const onLayout = (_: LayoutChangeEvent) => {\n    if (!viewRef.current.measure) {\n      return;\n    }\n    viewRef.current.measure((_fx, _fy, width, height, px, py) => {\n      bounds.current = { x: px, y: py, w: width, h: height };\n      onCapture(bounds.current);\n    });\n  };\n\n  return (\n    <View\n      ref={viewRef}\n      onLayout={onLayout}\n      style={[{ opacity: 0, flex: 1, position: 'absolute' }, style]}\n    >\n      {children}\n    </View>\n  );\n};\n"],"sourceRoot":""}